<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="kebno.github.io : Knowledge to know." />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>kebno.github.io</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/kebno">View on GitHub</a>

          <h1 id="project_title">kebno.github.io</h1>
          <h2 id="project_tagline">Knowledge to know.</h2>

        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="a-collection-of-code-snippets-i-occasionally-need" class="anchor" href="#a-collection-of-code-snippets-i-occasionally-need"><span class="octicon octicon-link"></span></a>A Collection of Code Snippets I Occasionally Need</h1>

<h2>
<a name="getting-started-with-complex-math-in-c" class="anchor" href="#getting-started-with-complex-math-in-c"><span class="octicon octicon-link"></span></a>Getting Started With Complex Math in C.</h2>

<p>Complex math is supported by C99.  The following code example
demonstrates a simple use of complex functions provided by C99.</p>

<pre><code>:::C
#include &lt;stdio.h&gt;
#include &lt;complex.h&gt;

int main (void)
{
    double complex z1 = 1.0 + 3.0 * I;
    double complex z2 = 1.0 - 4.0 * I;

    printf("Working with complex numbers:\n\v");

    printf("Starting values: Z1 = %.2f + %.2fi\tZ2 = %.2f %+.2fi\n", creal(z1), cimag(z1), creal(z2), cimag(z2));

    double complex sum = z1 + z2;
    printf("The sum: Z1 + Z2 = %.2f %+.2fi\n", creal(sum), cimag(sum));

    double complex difference = z1 - z2;
    printf("The difference: Z1 - Z2 = %.2f %+.2fi\n", creal(difference), cimag(difference));

    double complex product = z1 * z2;
    printf("The product: Z1 x Z2 = %.2f %+.2fi\n", creal(product), cimag(product));

    double complex quotient = z1 / z2;
    printf("The quotient: Z1 / Z2 = %.2f %+.2fi\n", creal(quotient), cimag(quotient));

    double complex squareroot = csqrt(z1);
    printf("The conjugate of Z1 = %.2f %+.2fi\n", creal(squareroot), cimag(squareroot));

    return 0;
}
</code></pre>

<p>Compile/Link this with the following command</p>

<p><code>gcc -std=c99 -o example example.c -lm</code></p>

<p>The option flag <code>-lm</code> tells gcc to include the math libraries (this is
done by default for <code>stdio.h</code> for example, but not maths).</p>

<h2>
<a name="making-a-time-lapse-movie-in-linux" class="anchor" href="#making-a-time-lapse-movie-in-linux"><span class="octicon octicon-link"></span></a>Making a Time-Lapse Movie in Linux</h2>

<p>Capture a sequence of images with your webcam.</p>

<p>If you are like me, you might have used a timestamp for the image
names. If so, you will need to rename all of them to have a name
followed by an uninterrupted sequence of numbers (hi00.jpg, hi01.jpg,
hi02.jpg,...).  To avoid the trouble of renaming every file and
thereby losing the timestamps, you may create symbolic links to the
files.  The following bash script will do just that, output a sequence
of files in chronological order and create links for them within the
<code>/tmp</code> directory of your system. Then the video encoder will accept
the sequence of links and make a movie (it doesn't need to know they
point to files with timestamps in the filename...). Change the video
output format to suit your fancy.</p>

<p>From within the directory of the images, run the following:</p>

<pre><code>:::bash
x=1;
for i in *.jpg*; # extra * for syntax highlight problems in editor
do counter=$(printf %03d $x);
ln /pathtoimages/"$i" /tmp/img"$counter".jpg -s; x=$(($x+1));
done

avconv -i /tmp/img%03d.jpg -vcodec mpeg4 test.avi
</code></pre>

<p>If you plan to do this with different sets of files, you must delete
    the links within <code>/tmp</code> before creating new links.</p>

<h2>
<a name="averaging-a-sequence-of-images" class="anchor" href="#averaging-a-sequence-of-images"><span class="octicon octicon-link"></span></a>Averaging a Sequence of Images</h2>

<p>There are many ways to accomplish this. One way is to use the Python
Image Library. The key command in this process is <code>Image.blend(image1,
image2, alpha)</code>.</p>

<p>Another is to properly set the alpha value to simulate a straight
average of ALL images together.</p>

<p>A summary of these two ideas follows:</p>

<pre><code>:::python
Image.blend(previm, currim, alpha)
alpha = 0.5 / num_images
</code></pre>

<h2>
<a name="setup-ssh-on-lan" class="anchor" href="#setup-ssh-on-lan"><span class="octicon octicon-link"></span></a>Setup SSH on LAN</h2>

<ol>
<li>Install openssh-server on your system unless it is already installed.</li>
<li>If you are on an Ubuntu based distro, install Uncomplicated Firewall (ufw).</li>
<li>Open the SSH port: <code>sudo ufw allow ssh</code>
</li>
<li>
<p>Make a backup of your sshd_config file:</p>

<pre><code>sudo cp /etc/ssh/sshd_config /etc/ssh/sshd_config.original
sudo chmod a-w /etc/ssh/sshd_config.original
</code></pre>
</li>
<li>
<p>Create an authorized keys file and set correct permissions for it:</p>

<pre><code>touch ~/.ssh/authorized_keys
chmod 0700 ~/.ssh/
chmod 0600 ~/.ssh/authorized_keys
</code></pre>
</li>
</ol><h2>
<a name="uncomplicated-firewall-ufw-setup-and-vino-vnc" class="anchor" href="#uncomplicated-firewall-ufw-setup-and-vino-vnc"><span class="octicon octicon-link"></span></a>Uncomplicated Firewall (ufw) Setup and Vino (VNC)</h2>

<ol>
<li>Install ufw.</li>
<li>Enable it:
&gt; <code>sudo ufw enable</code>
</li>
<li>Open port 22 for any protocal to a specific IP address:
&gt; <code>sudo ufw allow from 192.168.1.100 to any port 22</code>
</li>
<li>Install vino.</li>
<li>Run <code>sudo vino-preferences</code>.</li>
<li>Start vino-server: <code>/usr/lib/vino/vino-server &amp;</code>
</li>
<li>Check to make sure it is running and listening on port 5900:
&gt; <code>netstat -nl | grep 5900</code>
</li>
<li>To permit only local connections (Ubuntu 11.10 and newer):
&gt; <code>gsettings set org.gnome.Vino network-interface lo</code>
</li>
<li>To permit connections from anywhere (Ubuntu 11.10 and newer):
&gt; <code>gsettings reset org.gnome.Vino network-interface</code>
</li>
<li>On the remote machine, forward port 5900 on the vino-server
machine to your port 5900:
&gt; <code>ssh -L 5900:localhost:5900 user@remotebox</code>
</li>
</ol><h2>
<a name="adding-a-global-gitignore-file" class="anchor" href="#adding-a-global-gitignore-file"><span class="octicon octicon-link"></span></a>Adding a global .gitignore File</h2>

<p>(Pulled from the Github docs)</p>

<ol>
<li>Create the file <code>~/.gitignore_global</code> and add some rules to it.</li>
<li>To add this to your config, run
&gt; <code>git config --global core.excludesfile ~/.gitignore_global</code>
</li>
</ol><h2>
<a name="per-repo-git-settings" class="anchor" href="#per-repo-git-settings"><span class="octicon octicon-link"></span></a>Per-repo Git Settings</h2>

<p>(from the Github help docs)</p>

<pre><code>$ cd my_other_repo
# Changes the working directory to the repo you need to switch info for
$ git config user.name "Different Name"
# Sets the user's name for this specific repo
$ git config user.email "differentemail@email.com"
# Sets the user's email for this specific repo
</code></pre>

<h2>
<a name="internet-radio-streams-with-mplayer" class="anchor" href="#internet-radio-streams-with-mplayer"><span class="octicon octicon-link"></span></a>Internet Radio Streams with Mplayer</h2>

<pre><code>mplayer -playlist kmusic.m3u
</code></pre>

<h2>
<a name="git-branching-git-pro-book-by-scott-chacon" class="anchor" href="#git-branching-git-pro-book-by-scott-chacon"><span class="octicon octicon-link"></span></a>Git Branching (Git Pro Book, by Scott Chacon)</h2>

<pre><code># Create branch pointer
git branch testing
# Switch to the 'testing' branch
git checkout testing

# Create branch and switch to it
git checkout -b iss53
# Switch back to master branch
git checkout master

# Create another branch and switch to it
git checkout -b hotfix
# Make changes and commits
# Go back to master
git checkout master
# Merge hotfix back into master
git merge hotfix
# Now you may delete the hotfix branch/pointer (it's redundant now)
git branch -d hotfix

# Go back to iss53
git checkout iss53
# If you needed the changes now in master in iss53, merge master into it
git merge master
# When finished with iss53, go back to master and merge in iss53
git checkout master
git merge iss53
# Cleanup
git branch -d iss53
</code></pre>

<h2>
<a name="branch-management" class="anchor" href="#branch-management"><span class="octicon octicon-link"></span></a>Branch Management</h2>

<pre><code># display branches
git branch
# show last commit on each branch
git branch -v
# show branches already merged into current branch
git branch --merged
# show branches not yet merged into current branch
git branch --no-merged
</code></pre>

<h2>
<a name="remote-references" class="anchor" href="#remote-references"><span class="octicon octicon-link"></span></a>Remote references</h2>

<pre><code># Update remote references
git fetch origin
</code></pre>

<h2>
<a name="check-for-imac-sleep-problems" class="anchor" href="#check-for-imac-sleep-problems"><span class="octicon octicon-link"></span></a>Check for iMac Sleep Problems</h2>

<p>FROM: <a href="http://forums.macrumors.com/showpost.php?p=14336469&amp;postcount=9">http://forums.macrumors.com/showpost.php?p=14336469&amp;postcount=9</a>
 Feb 16, 2012, 10:18 PM    #9
raxafarian
macrumors regular</p>

<p>Join Date: Jun 2007
this was my problem:
I had the same issue with no sleep when shutting the lid. I'd open the lid and the screen would light up for a few seconds and then go black. If I waited a minute or so I could click the trackpad and the screen would turn back on.</p>

<p>Drove me crazy for about 2 weeks. Then I noticed if I unplugged the cord it would sleep fine. More head scratching.</p>

<p>I found this someplace .... open a terminal window and type:
pmset -g assertions</p>

<p>and you can see what is keeping it from sleeping. In my case it was a few printers set for sharing (don't know how that happened). I deleted the unneeded printers and turned sharing off on the two I use.</p>

<p>Reran the terminal command:
pmset -g assertions
and now nothing is preventing system sleep.</p>

<p>Other commands I used:
pmset -g (to get the process id)</p>

<p>and
ps -ef |grep -e 17
(with 17 being the process id from the previous command results)</p>

<p>Hope this helps.</p>

<h2>
<a name="git-setup" class="anchor" href="#git-setup"><span class="octicon octicon-link"></span></a>Git setup</h2>

<pre><code>$ git config --global user.name "Your Name"
$ git config --global user.email. "your_email@example.com"
$ ssh-keygen -t rsa -C "your_email@example.com"
</code></pre>

<h2>
<a name="committing-and-staging" class="anchor" href="#committing-and-staging"><span class="octicon octicon-link"></span></a>Committing and Staging</h2>

<pre><code># show diff in editor when writing commit message
$ git commit -v
# keep file, prevent git from tracking it
$ git rm --cached readme.txt
# diff of staged changes
$ git diff --staged
# amend last commit message
$ git commit --amend
</code></pre>

<h2>
<a name="git-tags" class="anchor" href="#git-tags"><span class="octicon octicon-link"></span></a>Git Tags</h2>

<pre><code># lightweight tags
$ git tag v1.1-1

# tag a specific commit later
$ git tag -a v1.2 -m 'version 1.2' 9cdef4e

# share a specific tag
$ git push origin v1.5
# share all tags
$ git push origin --tags

# look at a specific tag
$ git show v1.4
</code></pre>

<h2>
<a name="branching-and-merging" class="anchor" href="#branching-and-merging"><span class="octicon octicon-link"></span></a>Branching and Merging</h2>

<pre><code># create and checkout new branch
$ git checkout -b newbranch
# merge things back into master
$ git checkout master
$ git merge newbranch

# See what has been merged back or not
$ git branch --merged
$ git branch --no-merged
</code></pre>

<h2>
<a name="git-log" class="anchor" href="#git-log"><span class="octicon octicon-link"></span></a>Git log</h2>

<pre><code># show one-liners for last five commits
$ git log --abbrev-commit --pretty=oneline -5
</code></pre>

<h2>
<a name="pull-changes-made-by-a-person-and-favor-their-changes" class="anchor" href="#pull-changes-made-by-a-person-and-favor-their-changes"><span class="octicon octicon-link"></span></a>Pull changes made by a person, and favor their changes</h2>

<pre><code>git pull -s recursive -X theirs
</code></pre>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
